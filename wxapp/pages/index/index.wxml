<view class="container">
  <view class="status-box {{isAlarm ? 'alarm' : 'normal'}}">
    <icon type="{{isAlarm ? 'warn' : 'success'}}" size="50" color="white"/>
    <text class="status-text">{{statusText}}</text>
  </view>
  
  <block wx:if="{{isAlarm}}">
    <view class="info">
      <text>ğŸ¯ æ£€æµ‹ç›®æ ‡: {{targetName}}</text>
      <text>ğŸ“Š ç½®ä¿¡åº¦: {{confidence}}</text>
    </view>

    <block wx:if="{{alertImage}}">
      <view class="evidence-box">
        <text class="evidence-title">ğŸ“¸ ç°åœºæŠ“æ‹è¯æ®</text>
        <image src="{{alertImage}}" mode="widthFix" class="evidence-img"></image>
      </view>
    </block>
  </block>

  <button class="btn" bindtap="connectSocket">ğŸ”„ é‡è¿æœåŠ¡å™¨</button>

  <view class="log-container">
    <view class="log-title">ğŸ›¡ï¸ æŠ¥è­¦å†å² (æœ€è¿‘50æ¡)</view>
    <scroll-view scroll-y="true" class="log-list">
      <block wx:for="{{historyLogs}}" wx:key="id">
        <view class="log-item">
          <text class="log-time">{{item.shortTime}}</text>
          <text class="log-obj">{{item.object_class}}</text>
          <text class="log-conf">conf: {{item.confidence}}</text>
        </view>
      </block>
    </scroll-view>
  </view>
</view>